@(id: Long, trabalhoCientificoForm: Form[TrabalhoCientifico])

@import helper._

@import helper.twitterBootstrap._ 
@javascript = {
<script type="text/javascript" src="@routes.Assets.at("/javascripts/bootbox.min.js")"></script>
<script type="text/javascript">
    
         jQuery(function(){

            $("#modal").modal({
                show: false
            });
            
            $(".novo_editar_dominios").click(function(e){
                var url = $(this).attr("href");
                jQuery.ajax(url).done(function(data){
                    $("#modal").html(data).modal('show');
                }).fail(function(data){
                    alert("erro");
                });

                e.preventDefault();
            });
        });
        
    
</script>
    
}

@main("Alterar TrabalhoCientifico", javascript) {
    @if(flash.containsKey("success")) {
        <div class="alert alert-info">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>Feito!</strong> @flash.get("success")
        </div>
    } 
    @if(flash.containsKey("error")) {
        <div class="alert alert-error">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong>ERRO!</strong> @flash.get("error")
        </div>
    } 
    @form(action = routes.TrabalhosCientificos.salvar(id)) {
        
   <fielset>
     <div class="row">
        <div class="span6">
           <table>
                <tr>
                    <td>
                    @select(
                        trabalhoCientificoForm("autor.id"), 
                        options(Autor.opcoes), 
                        '_label -> "Autor",
                        'id->"autor_id",
                        'class ->"input-xlarge",
                        '_default -> "-- Escolha o Autor --",
                        '_showConstraints -> false,
                        '_error -> trabalhoCientificoForm.error("autor")
                    ) 
                    </td>
                     <td>
                         <a href="@routes.Autores.novoEditar(0, 1)" align="bottom" class="novo_editar_dominios btn btn-info btn-mini" rel="tooltip" title="Cadastrar nova formação">Novo</a>
                     </td>
                 </tr>
             </table>
    </div>
    <div class="span6">
            <table>
                <tr>
                    <td>
                    @select(
                        trabalhoCientificoForm("disponibilidade.id"), 
                        options(Disponibilidade.opcoes), 
                        '_label -> "Disponibilidade",
                        'id->"disponibilidade_id",
                        'class ->"input-xlarge",
                        '_default -> "-- Escolha a Disponibilidade --",
                        '_showConstraints -> false,
                        '_error -> trabalhoCientificoForm.error("disponibilidade")
                    )
                    </td>
                     <td>
                         <a href="@routes.Disponibilidades.novaEditar(0, 1)" align="bottom" class="novo_editar_dominios btn btn-info btn-mini" rel="tooltip" title="Cadastrar nova disponibilidade">Nova</a>
                         
                    </td>
                 </tr>
             </table>
      </div>
       <div class="span6">
            @inputText(
                trabalhoCientificoForm("ano"), 
                '_label -> "Ano",
                'class ->"input-xlarge",
                'placeholder->"Digite o ano",
                '_help -> "",
                '_error -> trabalhoCientificoForm.error("ano")
            )
       </div>
       </div>
     
        
            <legend>Método de Quantificação</legend>
            <div class="row">
            <div class="span6">
            <table>
                <tr>
                    <td>
                    @select(
                        trabalhoCientificoForm("metodo_quantificacao_biomassa.id"), 
                        options(MetodoQuantificacaoBiomassa.opcoes), 
                        '_label -> "Biomassa",
                        'id->"metodoQB_id",
                        'class ->"input-xlarge",
                        '_default -> "-- Escolha o Método de Quantificação de Biomassa --",
                        '_showConstraints -> false,
                        '_error -> trabalhoCientificoForm.error("metodo_quantificacao_biomassa")
                    )
                    </td>
                     <td>
                          <a href="@routes.MetodosQB.novoEditar(0, 1)" align="bottom" class="novo_editar_dominios btn btn-info btn-mini" rel="tooltip" title="Cadastrar novo metodo de qt de biomassa">Novo</a>
                     </td>
                 </tr>
             </table>
       </div>
       <div class="span6">
            <table>
                <tr>
                    <td>
                    @select(
                        trabalhoCientificoForm("metodo_quantificacao_carbono.id"), 
                        options(MetodoQuantificacaoCarbono.opcoes), 
                        '_label -> "Carbono",
                        'id->"metodoQC_id",
                        'class ->"input-xlarge",
                        '_default -> "-- Escolha o Método de Quantificação de Carbono --",
                        '_showConstraints -> false,
                        '_error -> trabalhoCientificoForm.error("metodo_quantificacao_carbono")
                    ) 
                    </td>
                     <td>
                          <a href="@routes.MetodosQC.novoEditar(0, 1)" align="bottom" class="novo_editar_dominios btn btn-info btn-mini" rel="tooltip" title="Cadastrar novo metodo de qt de carbono">Novo</a>
                    </td>
                 </tr>
             </table>
        </div>
   </div>
       
    
    
     <legend class="equacao-border">Equações</legend>
       <div class="row">
        <div class="span6">
            <div class="control-group">
               <h5>Biomassa</h5>
                <div>
                      <select name="trabalho_cientifico_equacao[0].equacao.id" class="selectBiomassa input-xlarge">  
                            <option>--Escolha uma Equacao--</option>
                                @for(opcao<-Equacao.opcoesEquacao(1)){
                                    <option value ="@opcao._1" >@opcao._2</option>
                                }
                        </select> 
                    <a href="@routes.Equacoes.cadastrar(1)" align="bottom" class="btn btn-info btn-mini" rel="tooltip" title="Cadastrar nova equaçao de biomassa">Nova</a>
 
                </div>
            </div>
            <div class="control-group">
                 <div>
                        <select name="modelo1" class="selectBiomassa input-xlarge">  
                            <option>--Escolha uma Modelo--</option>
                                @for(opcao<-Equacao.opcoesModelo(1)){
                                    <option value ="@opcao._1" >@opcao._2</option>
                                }
                        </select> 
                    <a href="@routes.Modelos.cadastrar(1)" align="bottom" class="btn btn-info btn-mini" rel="tooltip" title="Cadastrar nova equaçao de biomassa">Nova</a>
 
                </div>
         </div>
     </div>
      <div class="span6">       
            <div class="control-group">
               <h5>Carbono</h5>
                <div>
                      <select name="trabalho_cientifico_equacao[1].equacao.id" class="input-xlarge">  
                            <option>--Escolha uma Equacao--</option>
                                @for(opcao<-Equacao.opcoesEquacao(2)){
                                    <option value ="@opcao._1" >@opcao._2</option>
                                }
                        </select> 
                    <a href="@routes.Equacoes.cadastrar(2)" align="bottom" class="btn btn-info btn-mini" rel="tooltip" title="Cadastrar nova equaçao de biomassa">Nova</a>
 
                </div>
            </div>
            <div class="control-group">
                 <div>
                        <select name="trabalho_cientifico_modelo[1].modelo.id" class="selectCarbono input-xlarge">  
                            <option>--Escolha uma Modelo--</option>
                                @for(opcao<-Equacao.opcoesModelo(2)){
                                    <option value ="@opcao._1" >@opcao._2</option>
                                }
                        </select> 
                    <a href="@routes.Modelos.cadastrar(2)" align="bottom" class="btn btn-info btn-mini" rel="tooltip" title="Cadastrar nova equaçao de biomassa">Nova</a>
 
                </div>
            </div>
         </div>
          </div>  
         <div class="row">  
         <div class="span6">
               <div class="control-group">
               <h5>Volume</h5>
                <div>
                      <select name="trabalho_cientifico_equacao[2].equacao.id" class="input-xlarge">  
                            <option>--Escolha uma Equacao--</option>
                                @for(opcao<-Equacao.opcoesEquacao(3)){
                                    <option value ="@opcao._1" >@opcao._2</option>
                                }
                        </select> 
                    <a href="@routes.Equacoes.cadastrar(3)" align="bottom" class="btn btn-info btn-mini" rel="tooltip" title="Cadastrar nova equaçao de biomassa">Nova</a>
 
                </div>
              <div class="control-group">
                 <div>
                        <select name="trabalho_cientifico_modelo[2].modelo.id" class="input-xlarge">  
                            <option>--Escolha uma Modelo--</option>
                                @for(opcao<-Equacao.opcoesModelo(3)){
                                    <option value ="@opcao._1" >@opcao._2</option>
                                }
                        </select> 
                    <a href="@routes.Modelos.cadastrar(3)" align="bottom" class="btn btn-info btn-mini" rel="tooltip" title="Cadastrar novo modelo de biomassa">Nova</a>
 
                </div>
            </div>
        </div>
       </div>
    </div>
   
 </fielset>
        
       
        <div class="actions">
            <input type="submit" class="btn btn-primary" value="Incluir">
            <input type="submit" class="btn btn-primary" value="Cancelar">
        </div>
   
        
}
<div id="modal" class="modal hide"></div>
}
